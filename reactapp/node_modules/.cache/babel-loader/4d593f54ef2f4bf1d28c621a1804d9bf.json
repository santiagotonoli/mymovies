{"ast":null,"code":"var _jsxFileName = \"/Users/santiagotonoli/Desktop/la capsule - bootcamp/project/mymoviz/part5/backend/reactapp/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\nimport './App.css';\nimport { Container, Row, Button, Nav, NavItem, NavLink, ListGroup, ListGroupItem, UncontrolledPopover, PopoverHeader, PopoverBody } from 'reactstrap';\nimport Movie from './components/Movie';\n\nfunction App() {\n  const [moviesList, setMovies] = useState([]);\n  useEffect(() => {\n    async function loadData() {\n      var data = await fetch('/new-movies');\n      var json = await data.json();\n      setMovies(json.movies);\n    }\n\n    loadData();\n  }, []);\n  console.log(moviesList); // var moviesData = [\n  //   {name:\"Star Wars : L'ascension de Skywalker\", desc:\"La conclusion de la saga Skywalker. De nouvelles légendes vont naître dans cette ...\", img:\"/starwars.jpg\", note:6.7, vote:5},\n  //   {name:\"Maléfique : Le pouvoir du mal\", desc: \"Plusieurs années après avoir découvert pourquoi la plus célèbre méchante Disney avait un cœur ...\", img:\"/maleficent.jpg\", note:8.2, vote:3},\n  //   {name:\"Jumanji: The Next Level\", desc: \"L’équipe est de retour, mais le jeu a changé. Alors qu’ils retournent dans Jumanji pour secourir ...\", img:\"/jumanji.jpg\", note:4, vote:5},\n  //   {name:\"Once Upon a Time... in Hollywood\", desc: \"En 1969, Rick Dalton – star déclinante d'une série télévisée de western – et Cliff Booth ...\", img:\"/once_upon.jpg\", note:6, vote:7},\n  //   {name:\"La Reine des neiges 2\", desc: \"Elsa, Anna, Kristoff, Olaf et Sven voyagent bien au-delà des portes d’Arendelle à la recherche de réponses ...\", img:\"/frozen.jpg\", note:4.6, vote:3},\n  //   {name:\"Terminator: Dark Fate\", desc: \"De nos jours à Mexico. Dani Ramos, 21 ans, travaille sur une chaîne de montage dans une usine automobile...\", img:\"/terminator.jpg\", note:6.1, vote:1},\n  // ]\n\n  const [compteurMovie, setCompteur] = useState(0);\n  const [wishList, setWish] = useState([]);\n\n  var handleClickAddMovie = (status, name, img) => {\n    if (status === false) {\n      setCompteur(compteurMovie + 1);\n      setWish([...wishList, {\n        name,\n        img\n      }]);\n    }\n\n    if (status === true) {\n      if (compteurMovie > 0) {\n        setCompteur(compteurMovie - 1);\n        setWish(wishList.filter(movie => movie.name !== name));\n      }\n    }\n  };\n\n  var removeWishlist = name => {\n    setWish(wishList.filter(movie => movie.name !== name));\n\n    if (compteurMovie > 0) {\n      setCompteur(compteurMovie - 1);\n    }\n  }; // var movieList = moviesData.map((movie,i) => {\n  //     var inList = false\n  //     if(wishList.find(e => e.name === movie.name)){\n  //       inList = true\n  //     }\n  //   return(<Movie key={i} inList={inList} movieName={movie.name} movieDesc={movie.desc} movieImg={movie.img} globalRating={movie.note} globalCountRating={movie.vote} handleClickAddMovie={handleClickAddMovie}/>)\n  // })\n\n\n  var movieList = moviesList.map(movie => {\n    var inList = false;\n\n    if (wishList.find(e => e.name === movie.name)) {\n      inList = true;\n    }\n\n    return React.createElement(Movie, {\n      inList: inList,\n      movieName: movie.title,\n      movieDesc: movie.overview,\n      movieImg: movie.poster_path,\n      globalRating: movie.vote_average,\n      globalCountRating: movie.vote_count,\n      handleClickAddMovie: handleClickAddMovie,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    });\n  });\n  var movieWishlist = wishList.map(movie => {\n    return React.createElement(ListGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(ListGroupItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wishlist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: movie.img,\n      alt: \"movieImg\",\n      width: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"wishlistItem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, movie.name), React.createElement(FontAwesomeIcon, {\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: () => removeWishlist(movie.name),\n      className: \"wishlistItem\",\n      icon: faTrash,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }))));\n  });\n  return React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"#232528\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"navbar-brand\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"./logo.png\",\n    width: \"30\",\n    height: \"30\",\n    className: \"d-inline-block align-top\",\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  })), React.createElement(NavItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    style: {\n      color: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Last Releases\")), React.createElement(NavItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(Button, {\n    id: \"UncontrolledPopover\",\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, compteurMovie, \" Film(s)\"), React.createElement(UncontrolledPopover, {\n    placement: \"bottom\",\n    target: \"UncontrolledPopover\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(PopoverHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Wishlist\"), React.createElement(PopoverBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, movieWishlist))))), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, movieList)));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/santiagotonoli/Desktop/la capsule - bootcamp/project/mymoviz/part5/backend/reactapp/src/App.js"],"names":["React","useState","useEffect","FontAwesomeIcon","faTrash","Container","Row","Button","Nav","NavItem","NavLink","ListGroup","ListGroupItem","UncontrolledPopover","PopoverHeader","PopoverBody","Movie","App","moviesList","setMovies","loadData","data","fetch","json","movies","console","log","compteurMovie","setCompteur","wishList","setWish","handleClickAddMovie","status","name","img","filter","movie","removeWishlist","movieList","map","inList","find","e","title","overview","poster_path","vote_average","vote_count","movieWishlist","cursor","backgroundColor","color"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {  faTrash } from '@fortawesome/free-solid-svg-icons'\nimport './App.css';\nimport { \n  Container,\n  Row,\n  Button,\n  Nav,\n  NavItem,\n  NavLink,\n  ListGroup,\n  ListGroupItem,\n  UncontrolledPopover,\n  PopoverHeader,\n  PopoverBody\n } from 'reactstrap';\nimport Movie from './components/Movie'\n\nfunction App() {\n\n\n\n\n const [moviesList, setMovies] = useState([]);\n\n useEffect(() => {\n   async function loadData() {\n    var data = await fetch('/new-movies');\n    var json = await data.json();\n    setMovies(json.movies);\n}\nloadData()\n}, []);\nconsole.log(moviesList)\n\n\n// var moviesData = [\n//   {name:\"Star Wars : L'ascension de Skywalker\", desc:\"La conclusion de la saga Skywalker. De nouvelles légendes vont naître dans cette ...\", img:\"/starwars.jpg\", note:6.7, vote:5},\n//   {name:\"Maléfique : Le pouvoir du mal\", desc: \"Plusieurs années après avoir découvert pourquoi la plus célèbre méchante Disney avait un cœur ...\", img:\"/maleficent.jpg\", note:8.2, vote:3},\n//   {name:\"Jumanji: The Next Level\", desc: \"L’équipe est de retour, mais le jeu a changé. Alors qu’ils retournent dans Jumanji pour secourir ...\", img:\"/jumanji.jpg\", note:4, vote:5},\n//   {name:\"Once Upon a Time... in Hollywood\", desc: \"En 1969, Rick Dalton – star déclinante d'une série télévisée de western – et Cliff Booth ...\", img:\"/once_upon.jpg\", note:6, vote:7},\n//   {name:\"La Reine des neiges 2\", desc: \"Elsa, Anna, Kristoff, Olaf et Sven voyagent bien au-delà des portes d’Arendelle à la recherche de réponses ...\", img:\"/frozen.jpg\", note:4.6, vote:3},\n//   {name:\"Terminator: Dark Fate\", desc: \"De nos jours à Mexico. Dani Ramos, 21 ans, travaille sur une chaîne de montage dans une usine automobile...\", img:\"/terminator.jpg\", note:6.1, vote:1},\n// ]\n\n\n\n\n  const [compteurMovie, setCompteur] = useState(0);\n  const [wishList, setWish] = useState([]);\n  var handleClickAddMovie = (status,name,img) => {\n    if(status === false){\n      setCompteur(compteurMovie+1)\n      setWish( [...wishList, {name, img}] );\n\n    }if(status === true ){  \n      if(compteurMovie > 0){\n        setCompteur(compteurMovie-1) \n        setWish(wishList.filter(movie => movie.name !== name))\n      }\n\n    }\n  }\n  var removeWishlist = (name)=> {\n    setWish(wishList.filter(movie => movie.name !== name))\n    \n    if(compteurMovie > 0){\n      setCompteur(compteurMovie-1) \n    }\n  }\n\n  // var movieList = moviesData.map((movie,i) => {\n    \n  //     var inList = false\n  //     if(wishList.find(e => e.name === movie.name)){\n  //       inList = true\n  //     }\n  //   return(<Movie key={i} inList={inList} movieName={movie.name} movieDesc={movie.desc} movieImg={movie.img} globalRating={movie.note} globalCountRating={movie.vote} handleClickAddMovie={handleClickAddMovie}/>)\n  // })\n  var movieList = moviesList.map(movie => {\n    var inList = false\n        if(wishList.find(e => e.name === movie.name)){\n          inList = true\n        }\n      return(<Movie inList={inList} movieName={movie.title} movieDesc={movie.overview} movieImg={movie.poster_path} globalRating={movie.vote_average} globalCountRating={movie.vote_count} handleClickAddMovie={handleClickAddMovie}/>)\n    })\n\n  var movieWishlist = wishList.map(movie => {\n     return(\n     <ListGroup>\n        <ListGroupItem>\n          <div className=\"wishlist\">\n            <img src={movie.img} alt=\"movieImg\" width=\"100\"/>\n            <div className=\"wishlistItem\">\n              {movie.name}\n            </div>\n            <FontAwesomeIcon style={{cursor:\"pointer\"}} onClick={ ()=>removeWishlist(movie.name) } className=\"wishlistItem\" icon={faTrash} />\n          </div>\n        </ListGroupItem>\n     </ListGroup>)})\n\n  return (\n    <div style={{backgroundColor:\"#232528\"}}>\n      <Container>\n        <Nav>\n          <span className=\"navbar-brand\">\n            <img src=\"./logo.png\" width=\"30\" height=\"30\" className=\"d-inline-block align-top\" alt=\"logo\" />\n          </span>\n          <NavItem>\n            <NavLink style={{color:'white'}}>Last Releases</NavLink>\n          </NavItem>\n          <NavItem>\n            <div>\n              <Button id=\"UncontrolledPopover\" type=\"button\">\n                {compteurMovie} Film(s)\n              </Button>\n              <UncontrolledPopover placement=\"bottom\" target=\"UncontrolledPopover\">\n                <PopoverHeader>\n                  Wishlist\n                </PopoverHeader>\n                <PopoverBody>\n                {movieWishlist}\n                </PopoverBody>\n              </UncontrolledPopover>\n            </div>\n          </NavItem>\n        </Nav>\n        <Row>\n          {movieList}\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}